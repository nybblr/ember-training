<!DOCTYPE HTML>

<html>
  <head>
    <meta charset='utf-8'>
    <title>BümBöx</title>
    <link rel="stylesheet" href="css/app.css">

    <script src="vendor/handlebars/handlebars.js"></script>
    <script src="vendor/jquery/dist/jquery.js"></script>
    <script src="vendor/ember/ember.js"></script>
    <script src="js/app.js"></script>
    <script src="js/fixtures.js"></script>

    <script src="tests/load-tests.js"></script>
  </head>
  <body>
    <script type="text/x-handlebars">
      <header><h1>BümBöx</h1></header>

      {{outlet}}

      {{render 'nowPlaying'}}
    </script>

    <script type="text/x-handlebars" data-template-name="index">
      <div class="album-list">
        {{#each}}
          <div class="album">
            {{#link-to 'album' this}}
              <img {{bind-attr src=artwork}}>
            {{/link-to}}
            <p class="album-name">{{name}}</p>
            <p class="album-artist">{{artist}}</p>
            <p class="song-count">
              8 songs
              {{#if isExplicit}}
                <span class="explicit">EXPLICIT</span>
              {{/if}}
            </p>
          </div>
        {{/each}}
      </div>
    </script>

    <script type="text/x-handlebars" data-template-name="album">
      <div class="album-info">
        <img {{bind-attr src=artwork}}>
        <h1>{{name}}</h1>
        <h2>{{artist}}</h2>
      </div>

      <table class="album-listing">
        <tbody>
          {{#each songs}}
            <tr>
              <td class="song-track">
                <span class="track-number">{{track}}</span>
              </td>
              <td class="song-name">{{name}}</td>
              <td class="song-duration">{{format-duration duration}}</td>
            </tr>
          {{/each}}
          <tr>
            <td class="total-duration" colspan="3">Total Time: {{format-duration totalDuration}}</td>
          </tr>
        </tbody>
      </table>
    </script>

    <script type="text/x-handlebars" data-template-name="nowPlaying">
      <footer class="now-playing">
        {{#if model}}
          <img class="now-playing-artwork" {{bind-attr src=album.artwork}}>
          <div class="now-playing-body">
            <p class="now-playing-details">
              <span class="now-playing-name">{{name}}</span> -
              <span class="now-playing-artist">{{album.artist}}</span>
            </p>
            <div class="now-playing-player">
              <!-- You will fill this in later -->
            </div>
          </div>
        {{else}}
          <span class="now-playing-empty">Select a song to start playing.</span>
        {{/if}}
      </footer>
    </script>

    <div id="qunit" style="display: none"></div>
    <div id="qunit-fixture" style="display: none"></div>
  </body>
</html>
